<form class="{{cssClass}} flexcol" autocomplete="off">
  {{!-- Sheet Head --}}
  <head>
    <style>
      .bio-grid{
        display:grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 5px;
        background-color: rgba(0,0,0,0.10);
        margin-bottom:10px;
        border: 3px solid rgba(0,0,0,0.50);
      }
      .bio-grid .system{grid-column:1;}
      .bio-grid .name{grid-column:2;}
      .bio-grid .nation{grid-column:3/5;}
      .bio-grid .branch{grid-column:1;}
      .bio-grid .apperance{grid-column:2/5;}
      .bio-grid .rank{grid-column:1;}
      .bio-grid .code{grid-column:2/5;}
      .bio-grid .buddy{grid-column:1;}
      .bio-grid .dream{grid-column:2/4;}
      .bio-grid .exp{
        grid-column:4;
        grid-row:4/6;
      }
      .bio-grid .meet{grid-column:1/4;}
    
      .skill-grid{
        display:grid;
        grid-template-columns: 2.5fr 0.75fr 0.75fr 2.5fr 0.75fr 0.75fr 2.5fr 0.75fr 0.75fr 2.5fr 0.75fr 0.75fr;
        grid-auto-rows: minmax(32px, auto);
        border: 3px solid rgba(0,0,0,0.50);
        margin-bottom:10px;
      }
      .skill-grid .item{
        width=100%;
        height=100%;
        background-color: rgba(0,0,0,0.10);
        border: 1px solid rgba(0,0,0,0.25);
        display: flex;
        align-items: center;
      }
      .center-h{
        text-align: center;
        justify-content: center;
      }
    </style>
  </head>

  {{!-- Sheet Body --}}
  <section class="sheet-body">
    <div class="grid-container bio-grid">
      <div class="item system" style="display: flex;align-items: center;justify-content: center;">Twilight:2000</div>
      
      <div class="item name">Name:<input name="data.bio.name" type="text" value="{{data.bio.name}}" placeholder="Name" /></div>
      
      <div class="item nation">Nation:<input name="data.bio.nation" type="text" value="{{data.bio.nation}}" placeholder="Nation" /></div>
      
      <div class="item branch">Branch:<input name="data.bio.branch" type="text" value="{{data.bio.branch}}" placeholder="Branch" /></div>
      
      <div class="item apperance">Apperance:<input name="data.bio.apperance" type="text" value="{{data.bio.apperance}}" placeholder="Apperance" /></div>
      
      <div class="item rank">Rank:<input name="data.bio.rank" type="text" value="{{data.bio.rank}}" placeholder="Rank" /></div>
      
      <div class="item code">Moral Code:<input name="data.bio.code" type="text" value="{{data.bio.code}}" placeholder="Code" /></div>
      
      <div class="item buddy">Buddy:<input name="data.bio.buddy" type="text" value="{{data.bio.buddy}}" placeholder="Buddy" /></div>
      
      <div class="item dream">Big Dream:<input name="data.bio.dream" type="text" value="{{data.bio.dream}}" placeholder="Dream" /></div>
      
      
      <div class="item meet">How You Met the Group:<input name="data.bio.meet" type="text" value="{{data.bio.meet}}" placeholder="" /></div>
      
      <table class="item exp">
        <tr>
          <th colspan=2>Experience<th>
        </tr>
        <tr>
          <td>
            <div class="flexrow">
              <span>Current:</span>
              <input name="data.exp.current" type="number" value="{{data.exp.current}}" data-dtype="number" style="width:50%;float: right;"/>
            </div>
          </td>
          <td>
            <div class="flexrow">
              <span>Total:</span>
              <input name="data.exp.total" type="number" value="{{data.exp.total}}" data-dtype="number"/>
            </div>
          </td>
        </tr>
      </table>
      
    </div>
    
    <div class="grid-container skill-grid">
      <label class="item" style="grid-row:1;grid-column:1/span 13;">Attributes &amp; Skills</label>
    
      {{#each data.attributes as |attribute akey|}}
      <div class="item" style="grid-row:2;grid-column:{{math (math @index '*' 3) '+' 1}};" > </div>
      <div class="item center-h" style="grid-row:2;grid-column:{{math (math @index '*' 3) '+' 2}};" >Rating</div>
      <div class="item center-h" style="grid-row:2;grid-column:{{math (math @index '*' 3) '+' 3}};" >Base Die</div>
      
      
      <button class="item rollable" data-rolltype="attribute" data-attribute="akey" style="grid-row:3;grid-column:{{math (math @index '*' 3) '+' 1}};">{{attribute.name}}</button>
      <div class="item center-h" style="grid-row:3;grid-column:{{math (math @index '*' 3) '+' 2}};">
        <select class="die-select" name="data.attributes.{{akey}}.rating">
          {{#select attribute.rating}}
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
            <option value="F">F</option>
          {{/select}}
        </select>
      </div>
      <label class="item center-h" style="grid-row:3;grid-column:{{math (math @index '*' 3) '+' 3}};">{{attribute.die}}</label>
      
      {{#each attribute.skills as |skill skey|}}
      <button class="item rollable" data-rolltype="skill" data-skill="skey" data-attribute="akey" style="grid-row:{{math @index '+' 4}};grid-column:{{math (math @../index '*' 3) '+' 1}};" >{{skill.name}}</button>
      <div class="item center-h" style="grid-row:{{math @index '+' 4}};grid-column:{{math (math @../index '*' 3) '+' 2}};" >
        <select class="die-select" name="data.attributes.{{akey}}.skills.{{skey}}.rating">
          {{#select skill.rating}}
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
            <option value="F">F</option>
          {{/select}}
        </select>
      </div>
      <label class="item center-h" style="grid-row:{{math @index '+' 4}};grid-column:{{math (math @../index '*' 3) '+' 3}};">{{skill.die}}</label>
      {{/each}}
      
      {{/each}}
    
    </div>
  </section>
</form>

