<form class="{{cssClass}}" autocomplete="off">
    <head>
      <style>
        .stat-grid{
          display: grid;
          grid-template-columns: repeat( auto-fit, minmax(100px, 1fr) );
          gap: 1px;
          grid-auto-rows: minmax(50px, auto);
          grid-auto-flow: dense;
          border: 1px solid black;
          background-color: black;
        }
        .stat-grid .sub-subgrid{
        display: grid;
        grid-template-columns: 1fr;
        gap: 1px;
        grid-auto-rows: minmax(25px, auto);
        grid-auto-flow: dense;
        }
        .stat-grid .grid-item{
        background: url(../ui/parchment.jpg) repeat;
        }
        .stat-grid .sub-subgrid .grid-item{
        border: 1px none grey;
        }
        .stat-grid .sub-subgrid input[type="text"], input[type="number"], input[type="password"], input[type="date"], input[type="time"]{
        background: rgba(0,0,0,0.05);
        border: 1px solid #7a7971;
        }
      </style>
    </head>
    
    <header class="sheet-header">
        <img class="profile-img" src="{{item.img}}" data-edit="img" title="{{item.name}}"/>
        <div class="header-fields">
            <h1 class="charname"><input name="name" type="text" value="{{item.name}}" placeholder="Name"/></h1>
        </div>
    </header>

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="description">Description</a>
        <a class="item" data-tab="attributes">Attributes</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="sheet-body">

        {{!-- Description Tab --}}
        <div class="tab" data-group="primary" data-tab="description">
            {{editor content=data.description target="data.description" button=true owner=owner editable=editable}}
        </div>

        {{!-- Attributes Tab --}}
        <div class="tab attributes" data-group="primary" data-tab="attributes">
        {{#if (comp data.version "=" "1")}}
              <div class="grid-container stat-grid">
                {{#each data.attributes as |item id|}}
                <div class="grid-item sub-subgrid" >
                  <label class="grid-item" for="data.attributes.{{id}}">{{id}}</label>
                  <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.{{id}}" type="text" value="{{item}}"/>
                </div>
                {{/each}}
              </div>
        {{/if}}
			
        {{#if (comp data.version ">=" "2")}}
          <div class="grid-container stat-grid">
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.type">Type</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.type" type="text" value="{{data.attributes.type}}"/>
            </div>

            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.ammo">Ammo</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.ammo" type="text" value="{{data.attributes.ammo}}"/>
            </div>

            <div class="grid-item flexcol" >
              <label class="grid-item" >Reliability</label>
              <div class="flexrow flex-center">
                <select name="data.attributes.rel.value">
                  {{#select data.attributes.rel.value}}
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="F">F</option>
                    <option value="-">-</option>
                    {{/select}}
                </select>
                <span class="sep"> / </span> 
                <select name="data.attributes.rel.max">
                  {{#select data.attributes.rel.max}}
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="F">F</option>
                    <option value="-">-</option>
                    {{/select}}
                </select>
              </div>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.rof">ROF</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.rof" type="number" value="{{data.attributes.rof}}"/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.damage">Damage</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.damage" type="number" value="{{data.attributes.damage}}"/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.crit">Crit</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.crit" type="number" value="{{data.attributes.crit}}"/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.blast">Blast</label>
              <select name="data.attributes.blast">
                  {{#select data.attributes.blast}}
                    <option value="A">A</option>
                    <option value="B">B</option>
                    <option value="C">C</option>
                    <option value="D">D</option>
                    <option value="-">-</option>
                    {{/select}}
                </select>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.range">Range</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.range" type="number" value="{{data.attributes.range}}"/>
            </div>
            
            <div class="grid-item flexcol" >
              <label class="grid-item">Magazine</label>
              <div class="flexrow flex-center">
                <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.mag.value" type="number" value="{{data.attributes.mag.value}}"/>
                <span class="sep"> / </span> 
                <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.mag.max" type="number" value="{{data.attributes.mag.max}}"/>
              </div>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.attributes.armor">Armor Mod</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.attributes.armor" type="number" value="{{data.attributes.armor}}"/>
            </div>
            
            {{> "systems/twilight2000v4/templates/item/blocks/weight-block.hbs" this}}
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.price">Price</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.price" type="number" value="{{data.price}}"/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.quantity">Quantity</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.quantity" type="number" value="{{data.quantity}}"/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.equipped">Equipped</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.equipped" type="checkbox" {{checked data.equipped}}/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.carried">Carried</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.carried" type="checkbox" {{checked data.carried}}/>
            </div>
            
            <div class="grid-item sub-subgrid" >
              <label class="grid-item" for="data.packed">Packed</label>
              <input class="grid-item" style="grid-column-end:span 1;" name="data.packed" type="checkbox" {{checked data.packed}}/>
            </div>
            
          </div>
        {{/if}}
        </div>
    </section>
</form>
